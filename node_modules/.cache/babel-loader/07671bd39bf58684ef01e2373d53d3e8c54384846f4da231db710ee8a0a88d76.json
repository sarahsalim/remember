{"ast":null,"code":"var _jsxFileName = \"/Users/sarahsalim/Desktop/remember-new/src/components/Modal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport { useUser, useSupabaseClient } from \"@supabase/auth-helpers-react\";\n\n// const customStyles = {\n//   content: {\n//     top: \"50%\",\n//     left: \"50%\",\n//     transform: \"translate(-50%, -50%)\",\n//     width: \"fit-content\",\n//     borderRadius: \"8px\",\n//     height: \"fit-content\",\n//     padding: \"20px\",\n//   },\n//   overlay: {\n//     backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n//   },\n// };\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreatePhotoModal = ({\n  setImages\n}) => {\n  _s();\n  const user = useUser();\n  const supabase = useSupabaseClient();\n  const [modalIsOpen, setIsOpen] = useState(false);\n  const [file, setFile] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [form, setForm] = useState(true);\n  const openModal = () => {\n    setIsOpen(true);\n  };\n  function closeModal() {\n    setIsOpen(false);\n    setName(\"\");\n    setForm(true);\n    setFile(\"\");\n  }\n  const handleChange = event => {\n    setFile(event);\n  };\n  const handleChangeName = event => {\n    setName(event.target.value);\n    if (name.length > 0 && file) {\n      setForm(false);\n    } else {\n      setForm(true);\n    }\n  };\n  const handleClick = () => {\n    uploadImage(file);\n    closeModal();\n  };\n  useEffect(() => {\n    if (user) {\n      getImages();\n    }\n  }, [user]);\n  async function getImages() {\n    const {\n      data,\n      error\n    } = await supabase.storage.from(\"images\").list((user === null || user === void 0 ? void 0 : user.id) + \"/\", {\n      limit: 100,\n      offset: 0,\n      sortBy: {\n        column: \"created_at\",\n        order: \"desc\"\n      }\n    });\n    if (data !== null) {\n      setImages(data);\n    } else {\n      console.log(error);\n    }\n  }\n  async function uploadImage(ev) {\n    let file = ev.target.files[0];\n    const {\n      data,\n      error\n    } = await supabase.storage.from(\"images\").upload(user.id + \"/\" + name, file);\n    if (data) {\n      getImages();\n    } else {\n      console.log(error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      paddingBottom: \"32px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn default\",\n      onClick: openModal,\n      children: \"Share a memory\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalIsOpen,\n      onRequestClose: closeModal,\n      contentLabel: \"Example Modal\",\n      className: \"Modal\",\n      overlayClassName: \"Overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          width: \"100%\",\n          justifyContent: \"space-between\",\n          marginBottom: \"16px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"first-header-text\",\n          style: {\n            margin: 0\n          },\n          children: \"Share a memory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeModal,\n          className: \"close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"helper-text\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Only JPEG images less than 50MB in size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"textInput\",\n          children: \"Describe the special moment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => handleChangeName(e),\n          type: \"text\",\n          value: name,\n          className: \"input-field\",\n          id: \"textInput\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"helper-text\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Sadly no unique characters and emojis \\uD83D\\uDE1E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn default upload\",\n          disabled: form,\n          onClick: () => {\n            handleClick();\n          },\n          children: \"Upload photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(CreatePhotoModal, \"7KG28YUchNa26b5c2Sw/5XscJ3Q=\", false, function () {\n  return [useUser, useSupabaseClient];\n});\n_c = CreatePhotoModal;\nexport default CreatePhotoModal;\nvar _c;\n$RefreshReg$(_c, \"CreatePhotoModal\");","map":{"version":3,"names":["React","useState","useEffect","Modal","useUser","useSupabaseClient","jsxDEV","_jsxDEV","CreatePhotoModal","setImages","_s","user","supabase","modalIsOpen","setIsOpen","file","setFile","name","setName","form","setForm","openModal","closeModal","handleChange","event","handleChangeName","target","value","length","handleClick","uploadImage","getImages","data","error","storage","from","list","id","limit","offset","sortBy","column","order","console","log","ev","files","upload","style","display","alignItems","justifyContent","paddingBottom","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","isOpen","onRequestClose","contentLabel","overlayClassName","width","marginBottom","margin","flexDirection","gap","type","onChange","e","for","disabled","_c","$RefreshReg$"],"sources":["/Users/sarahsalim/Desktop/remember-new/src/components/Modal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport { useUser, useSupabaseClient } from \"@supabase/auth-helpers-react\";\n\n// const customStyles = {\n//   content: {\n//     top: \"50%\",\n//     left: \"50%\",\n//     transform: \"translate(-50%, -50%)\",\n//     width: \"fit-content\",\n//     borderRadius: \"8px\",\n//     height: \"fit-content\",\n//     padding: \"20px\",\n//   },\n//   overlay: {\n//     backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n//   },\n// };\n\nconst CreatePhotoModal = ({ setImages }) => {\n  const user = useUser();\n  const supabase = useSupabaseClient();\n  const [modalIsOpen, setIsOpen] = useState(false);\n  const [file, setFile] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [form, setForm] = useState(true);\n\n  const openModal = () => {\n    setIsOpen(true);\n  };\n\n  function closeModal() {\n    setIsOpen(false);\n    setName(\"\");\n    setForm(true);\n    setFile(\"\");\n  }\n\n  const handleChange = (event) => {\n    setFile(event);\n  };\n\n  const handleChangeName = (event) => {\n    setName(event.target.value);\n    if (name.length > 0 && file) {\n      setForm(false);\n    } else {\n      setForm(true);\n    }\n  };\n\n  const handleClick = () => {\n    uploadImage(file);\n    closeModal();\n  };\n\n  useEffect(() => {\n    if (user) {\n      getImages();\n    }\n  }, [user]);\n\n  async function getImages() {\n    const { data, error } = await supabase.storage\n      .from(\"images\")\n      .list(user?.id + \"/\", {\n        limit: 100,\n        offset: 0,\n        sortBy: { column: \"created_at\", order: \"desc\" },\n      });\n\n    if (data !== null) {\n      setImages(data);\n    } else {\n      console.log(error);\n    }\n  }\n\n  async function uploadImage(ev) {\n    let file = ev.target.files[0];\n\n    const { data, error } = await supabase.storage\n      .from(\"images\")\n      .upload(user.id + \"/\" + name, file);\n\n    if (data) {\n      getImages();\n    } else {\n      console.log(error);\n    }\n  }\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingBottom: \"32px\",\n      }}\n    >\n      <button className=\"btn default\" onClick={openModal}>\n        Share a memory\n      </button>\n      <Modal\n        isOpen={modalIsOpen}\n        onRequestClose={closeModal}\n        contentLabel=\"Example Modal\"\n        className=\"Modal\"\n        overlayClassName=\"Overlay\"\n      >\n        <div\n          style={{\n            display: \"flex\",\n            width: \"100%\",\n            justifyContent: \"space-between\",\n            marginBottom: \"16px\",\n          }}\n        >\n          <h2 className=\"first-header-text\" style={{ margin: 0 }}>\n            Share a memory\n          </h2>\n          <button onClick={closeModal} className=\"close\">\n            &times;\n          </button>\n        </div>\n\n        <form style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\n          <input type=\"file\" onChange={(e) => handleChange(e)} />\n          <p className=\"helper-text\">\n            <span>Only JPEG images less than 50MB in size</span>\n          </p>\n          <label for=\"textInput\">Describe the special moment</label>\n          <input\n            onChange={(e) => handleChangeName(e)}\n            type=\"text\"\n            value={name}\n            className=\"input-field\"\n            id=\"textInput\"\n          ></input>\n          <p className=\"helper-text\">\n            <span>Sadly no unique characters and emojis 😞</span>\n          </p>\n          <button\n            className=\"btn default upload\"\n            disabled={form}\n            onClick={() => {\n              handleClick();\n            }}\n          >\n            Upload photo\n          </button>\n        </form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default CreatePhotoModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}