{"ast":null,"code":"import Header from\"./components/Header\";import CreatePhotoModal from\"./components/Modal\";import PhotoGallery from\"./components/PhotoGallery\";import{useUser,useSupabaseClient}from\"@supabase/auth-helpers-react\";import{Form,Button,Container}from\"react-bootstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[email,setEmail]=useState();const user=useUser();const supabase=useSupabaseClient();const[images,setImages]=useState([]);async function magicLinkLogin(){const{data,error}=await supabase.auth.signInWithOtp({email:email});if(error){alert(\"Error communicating with Supabase. Make sure you are using an existing email address. Please try again.\");console.log(error);}else{alert(\"Check your email inbox for magic log in link.\");}}async function signout(){const{error}=await supabase.auth.signOut();}return/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:user===null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{align:\"center\",className:\"container-sm mt-4\",children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"first-header\",children:\"Welcome #fambam\"})}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:/*#__PURE__*/_jsx(\"h2\",{className:\"first-header-text\",children:\"'Remembering Abah' is a private photo gallery. Only family members have access.\"})}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>magicLinkLogin(),children:\"Get magic link\"})]})]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(_Fragment,{})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(CreatePhotoModal,{setImages:setImages}),images.length===0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"emptyHolder\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Let's start posting memories with Abah...\"})})})}):/*#__PURE__*/_jsx(PhotoGallery,{images:images}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Logged in as \",user.email,\".\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"footer-span\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn signOut\",onClick:()=>signout(),children:\"Log out\"})]})]})});}export default App;","map":{"version":3,"names":["Header","CreatePhotoModal","PhotoGallery","useUser","useSupabaseClient","Form","Button","Container","useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","email","setEmail","user","supabase","images","setImages","magicLinkLogin","data","error","auth","signInWithOtp","alert","console","log","signout","signOut","className","children","align","Group","Label","Control","type","placeholder","onChange","e","target","value","variant","onClick","length"],"sources":["/Users/sarahsalim/Desktop/remember-new/src/App.js"],"sourcesContent":["import Header from \"./components/Header\";\nimport CreatePhotoModal from \"./components/Modal\";\nimport PhotoGallery from \"./components/PhotoGallery\";\nimport { useUser, useSupabaseClient } from \"@supabase/auth-helpers-react\";\nimport { Form, Button, Container } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { useState } from \"react\";\n\nfunction App() {\n  const [email, setEmail] = useState();\n  const user = useUser();\n  const supabase = useSupabaseClient();\n  const [images, setImages] = useState([]);\n\n  async function magicLinkLogin() {\n    const { data, error } = await supabase.auth.signInWithOtp({\n      email: email,\n    });\n    if (error) {\n      alert(\n        \"Error communicating with Supabase. Make sure you are using an existing email address. Please try again.\"\n      );\n      console.log(error);\n    } else {\n      alert(\"Check your email inbox for magic log in link.\");\n    }\n  }\n\n  async function signout() {\n    const { error } = await supabase.auth.signOut();\n  }\n  return (\n    <div className=\"main\">\n      {user === null ? (\n        <>\n          <Container align=\"center\" className=\"container-sm mt-4\">\n            <>\n              <h1 className=\"first-header\">Welcome #fambam</h1>\n            </>\n            <Form>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>\n                  <h2 className=\"first-header-text\">\n                    'Remembering Abah' is a private photo gallery. Only family\n                    members have access.\n                  </h2>\n                </Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter email\"\n                  onChange={(e) => setEmail(e.target.value)}\n                ></Form.Control>\n              </Form.Group>\n              <Button variant=\"primary\" onClick={() => magicLinkLogin()}>\n                Get magic link\n              </Button>\n            </Form>\n          </Container>\n          <>\n            <></>\n          </>\n        </>\n      ) : (\n        <>\n          <Header />\n          <CreatePhotoModal setImages={setImages} />\n          {images.length === 0 ? (\n            <>\n              <>\n                <div className=\"emptyHolder\">\n                  <h3>Let's start posting memories with Abah...</h3>\n                </div>\n              </>\n            </>\n          ) : (\n            <PhotoGallery images={images} />\n          )}\n          <div className=\"footer\">\n            <p>Logged in as {user.email}.</p>\n            <span className=\"footer-span\"></span>\n            <button className=\"btn signOut\" onClick={() => signout()}>\n              Log out\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,OAASC,OAAO,CAAEC,iBAAiB,KAAQ,8BAA8B,CACzE,OAASC,IAAI,CAAEC,MAAM,CAAEC,SAAS,KAAQ,iBAAiB,CACzD,MAAO,sCAAsC,CAC7C,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,CAAC,CACpC,KAAM,CAAAU,IAAI,CAAGf,OAAO,CAAC,CAAC,CACtB,KAAM,CAAAgB,QAAQ,CAAGf,iBAAiB,CAAC,CAAC,CACpC,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAExC,cAAe,CAAAc,cAAcA,CAAA,CAAG,CAC9B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAACC,aAAa,CAAC,CACxDV,KAAK,CAAEA,KACT,CAAC,CAAC,CACF,GAAIQ,KAAK,CAAE,CACTG,KAAK,CACH,yGACF,CAAC,CACDC,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC,CACpB,CAAC,IAAM,CACLG,KAAK,CAAC,+CAA+C,CAAC,CACxD,CACF,CAEA,cAAe,CAAAG,OAAOA,CAAA,CAAG,CACvB,KAAM,CAAEN,KAAM,CAAC,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAACM,OAAO,CAAC,CAAC,CACjD,CACA,mBACErB,IAAA,QAAKsB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBf,IAAI,GAAK,IAAI,cACZJ,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACEnB,KAAA,CAACP,SAAS,EAAC2B,KAAK,CAAC,QAAQ,CAACF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACrDvB,IAAA,CAAAE,SAAA,EAAAqB,QAAA,cACEvB,IAAA,OAAIsB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CACjD,CAAC,cACHnB,KAAA,CAACT,IAAI,EAAA4B,QAAA,eACHnB,KAAA,CAACT,IAAI,CAAC8B,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC1BvB,IAAA,CAACL,IAAI,CAAC+B,KAAK,EAAAH,QAAA,cACTvB,IAAA,OAAIsB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,iFAGlC,CAAI,CAAC,CACK,CAAC,cACbvB,IAAA,CAACL,IAAI,CAACgC,OAAO,EACXC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,aAAa,CACzBC,QAAQ,CAAGC,CAAC,EAAKxB,QAAQ,CAACwB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAC7B,CAAC,EACN,CAAC,cACbjC,IAAA,CAACJ,MAAM,EAACsC,OAAO,CAAC,SAAS,CAACC,OAAO,CAAEA,CAAA,GAAMvB,cAAc,CAAC,CAAE,CAAAW,QAAA,CAAC,gBAE3D,CAAQ,CAAC,EACL,CAAC,EACE,CAAC,cACZvB,IAAA,CAAAE,SAAA,EAAAqB,QAAA,cACEvB,IAAA,CAAAE,SAAA,GAAI,CAAC,CACL,CAAC,EACH,CAAC,cAEHE,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACEvB,IAAA,CAACV,MAAM,GAAE,CAAC,cACVU,IAAA,CAACT,gBAAgB,EAACoB,SAAS,CAAEA,SAAU,CAAE,CAAC,CACzCD,MAAM,CAAC0B,MAAM,GAAK,CAAC,cAClBpC,IAAA,CAAAE,SAAA,EAAAqB,QAAA,cACEvB,IAAA,CAAAE,SAAA,EAAAqB,QAAA,cACEvB,IAAA,QAAKsB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BvB,IAAA,OAAAuB,QAAA,CAAI,2CAAyC,CAAI,CAAC,CAC/C,CAAC,CACN,CAAC,CACH,CAAC,cAEHvB,IAAA,CAACR,YAAY,EAACkB,MAAM,CAAEA,MAAO,CAAE,CAChC,cACDN,KAAA,QAAKkB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBnB,KAAA,MAAAmB,QAAA,EAAG,eAAa,CAACf,IAAI,CAACF,KAAK,CAAC,GAAC,EAAG,CAAC,cACjCN,IAAA,SAAMsB,SAAS,CAAC,aAAa,CAAO,CAAC,cACrCtB,IAAA,WAAQsB,SAAS,CAAC,aAAa,CAACa,OAAO,CAAEA,CAAA,GAAMf,OAAO,CAAC,CAAE,CAAAG,QAAA,CAAC,SAE1D,CAAQ,CAAC,EACN,CAAC,EACN,CACH,CACE,CAAC,CAEV,CAEA,cAAe,CAAAlB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}